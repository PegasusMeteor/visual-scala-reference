\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \elem{a}{2} &
  \helem{between} &
  \elem{a}{i} &
  \elem{a}{i+1} &
  \helem{between} &
  \elem{a}{n} \\
};

\matrix (T) [collection, right=\cellwidth of A] {
  \node (t2) {$a_2$}; &
  \node (ti+1) {$a_{i+1}$}; &
  \node (tn+1) {$a_{n+1}$}; \\
};

\rightparam{T.east}{\param{that}}

\matrix (B) [collection, below=2\cellheight of A] {
  \node (b1) {$a_1$}; &
  \helem{between} &
  \node (bi) {$a_i$}; &
  \helem{between} &
  \node (bn) {$a_n$}; \\
};

\draw (a2.north) [name path=p1] -- ++(0, .5) -| (t2);
\draw (ai+1.north) [name path=p2] -- ++(0, 1) -| (ti+1);
\path [name intersections={of=p1 and p2, by={a}}] (a) pic {vertical bridge};

\foreach \i in {1, i, n} {
  \draw (a\i) [smooth arrow] to (b\i);
}

\input{_footer.tex}
