\input{_header.tex}

\matrix (K) [map] {
  \node (k1) {$k_1$}; \\
  \node (k2) {$k_2$}; \\
  \velem{between} \\
  \node (kn) {$k_n$}; \\
};

\node [below=\cellheight of kn.center] {$\param{f}$};

\matrix (KF) [map, right=3.5\cellwidth, matrix anchor=north west] at (K.north east) {
  \node (kf1) {$k_1$}; \\
  \node (kf2) {$k_2$}; \\
  \velem{between} \\
  \node (kfn) {$k_n$}; \\
  \node (kf_) {$k_\_$}; \\
};

\node [big arrow, left=1.5\cellheight - .5\bigarrowwidth of KF];

\foreach \i in {1, 2, n} {
  \node (v\i) [right=.5\cellwidth of k\i] {$v_\i$};
  \draw (k\i) [maps to] -- (v\i);
  \node (vf\i) [right=.5\cellwidth of kf\i] {$v_\i$};
  \draw (kf\i) [maps to] -- (vf\i);
}

\node (vf_) [right=.5\cellwidth of kf_] {$\param{f}(k_\_)$};
\draw (kf_) [maps to] -- (vf_);

% \path (vf_) [name path=a] -- +(-10, 0)
% (K) [name path=b] -- +(0, -5);
% \path [name intersections={of=a and b, by={x}}] (x) node [anchor=mid] {$\param{f}$};

\input{_footer.tex}
