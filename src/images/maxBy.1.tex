\input{_header.tex}

\matrix (A) [collection] {
  \node (a1) {$a_1$};   &
  \node (a2) {$a_2$};   &
  \helem{between}            &
  \node (ai) {$a_i$}; &
  \helem{between}            &
  \node (an) {$a_n$};   \\
};

\foreach \i in {1, 2, i, n} {
  \path 
    node (f\i) [predicate evaluation, above=.5 of a\i] {$\param{f}(a_{\i})$}
    (a\i) [predicate evaluation edge] -- (f\i);
}

\path
  node (B) [below=2\cellheight of ai] {$a_i$}
  (ai) [arrow] -- (B);

\matrix [matrix of math nodes, nodes={scale=0.8}, left delimiter=\{, right=1 of B.east] {
  \param{f}(a_i) > \param{f}(a_j),\, j \in [1, i - 1] \\
  \param{f}(a_i) \geq \param{f}(a_k),\, k \in [i + 1, n] \\
};

\input{_footer.tex}
