\input{_header.tex}

\matrix (A) [collection, name prefix=a] {
    \node (1)   {$a_1$};     &
    \ellipsis                &
    \node (i)   {$a_i$};     &
    \node (i+1) {$a_{i+1}$}; &
    \ellipsis                &
    \node (n) {$a_{n}$}; \\
};

\matrix [collection, left delimiter=(, right delimiter=), below of=A, name prefix=b, node distance=3cm] {
  \node (1)   {$a_1$};     &
  \ellipsis                &
  \node (i)   {$a_i$};     &
  \tuplecomma              &
  \node (i+1) {$a_{i+1}$}; &
  \ellipsis                &
  \node (n) {$a_{n}$};     \\
};

\toppointer{ai.north}{\param{i}}

\bracetobrace{a1.south west}{[xshift=-1pt] ai.south east}{b1.north west}{bi.north east}
\bracetobrace{ai+1.south west}{an.south east}{bi+1.north west}{bn.north east}

\input{_footer.tex}
