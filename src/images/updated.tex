\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \helem{between} &
  \elem{a}{i-1} &
  \elem{a}{i} &
  \elem{a}{i+1} &
  \helem{between} &
  \elem{a}{n} \\
};

\matrix (B) [collection, below=2\cellheight of A] {
  \node (b1) {$a_1$}; &
  \helem{between} &
  \node (bi-1) {$a_{i-1}$}; &
  \node (bi) {\param{elem}}; &
  \node (bi+1) {$a_{i+1}$}; &
  \helem{between} &
  \node (bn) {$a_n$}; \\
};

\node (E) [right=1 of A] {\param{elem}};
\toppointer{ai.north}{\param{index}}

\bottombrace[a]{a1.south west}{ai-1.south east}
\topbrace[b]{b1.north west}{bi-1.north east}
\draw (a) [arrow] -- (b);

\bottombrace[a]{ai+1.south west}{an.south east}
\topbrace[b]{bi+1.north west}{bn.north east}
\draw (a) [arrow] -- (b);

\draw (E.south) [smooth arrow, erase] to (bi.north);

\input{_footer.tex}
