\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \elem{a}{2} &
  \helem{between} &
  \elem{a}{n-1} &
  \elem{a}{n} \\
};

\node [big arrow, below=\cellheight - .5\bigarrowwidth of A, anchor=west, rotate=-90];

\matrix (C1) [collection, below=2\cellheight of A] {
  \node {$a_1$}; &
  \node {$a_2$}; &
  \helem{between} &
  \node {$a_{n-1}$}; &
  \node {$a_n$}; \\
};

\matrix (C2) [collection, below=\cellheight of C1] {
  \node {$a_1$}; &
  \node {$a_2$}; &
  \helem{between} &
  \node {$a_n$}; &
  \node {$a_{n-1}$}; \\
};

\matrix (C3) [collection, below=1.5\cellheight of C2] {
  \node {$a_n$}; &
  \node {$a_{n-1}$}; &
  \helem{between} &
  \node {$a_1$}; &
  \node {$a_2$}; \\
};

\matrix (C4) [collection, below=\cellheight of C3] {
  \node {$a_n$}; &
  \node {$a_{n-1}$}; &
  \helem{between} &
  \node {$a_2$}; &
  \node {$a_1$}; \\
};

\begin{scope}
  \tikzstyle{every path}=[bend right=45]
  \draw ($ (C1.west) - (1, 0) $) [iteration, with next label] -- (C1.west);
  \draw (C1.west) [iteration, with reverse next label] to (C2.west);
  \draw (C2.west) [iteration, middle dots] to (C3.west);
  \path (C2.west) [with reverse next label] to (C3.west);
  \draw (C3.west) [iteration, middle dots] to (C4.west);
  \path (C3.west) [with reverse next label] to (C4.west);
\end{scope}

\input{_footer.tex}
