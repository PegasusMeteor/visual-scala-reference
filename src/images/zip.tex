\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \elem{a}{2} &
  \helem{between} &
  \elem{a}{i} &
  \helem{between} &
  \elem{a}{n} \\
};

\matrix (Z) [collection, matrix anchor=north west, below=1\cellheight of A] at (A.south west) {
  \node (z1) {$(a_1, b_1)$}; &
  \node (z2) {$(a_2, b_2)$}; &
  \helem{between} &
  \node (zi) {$(a_i, b_i)$}; &
  \helem{between} &
  \node (zn) {$(a_n, b_n)$}; \\
};

\matrix (B) [collection, matrix anchor=north west, below=3\cellheight of A] at (A.south west) {
  \elem{b}{1} &
  \elem{b}{2} &
  \helem{between} &
  \elem{b}{i} &
  \helem{between} &
  \elem{b}{n} &
  \elem{b}{n+1} &
  \helem[.5\elementswidth]{after} \\
};

\leftparam{B.west}{\param{that}}

\foreach \i in {1,2,i,n} {
  \draw [arrow, erase] (a\i) -- (z\i.north) -- +(-3mm, -2ex);
  \draw [arrow, erase] (b\i) -- (z\i.south) -- +(3mm, 2ex);
}

\input{_footer.tex}
