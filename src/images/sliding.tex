\input{_header.tex}

\matrix (A) [collection] {
  \node (a1) {$a_1$}; &
  \ellipsis &
  \node (ai) {$a_i$}; &
  \ellipsis &
  \node (aj) {$a_j$}; &
  \ellipsis &
  \node (ak) {$a_k$}; &
  \ellipsis [25mm]; &
  \node (am) {$a_m$}; &
  \ellipsis [10mm];  &
  \node (an) {$a_n$}; \\
};

\matrix (A1) [collection, below=20mm of a1, matrix anchor=A1a1.north west] at (a1.south west) {
  \node (A1a1) {$a_1$};    &
  \ellipsis &
  \node (A1as) {$a_i$};    \\
};

\matrix (A2) [collection, below=20mm of ai, matrix anchor=A2a1.north west] at (aj.south west) {
  \node (A2a1) {$a_j$};    &
  \ellipsis &
  \node (A2as) {$a_k$};    \\
};

\matrix (A3) [collection, below=20mm of aj, matrix anchor=A3a1.north west] at (am.south west) {
  \node (A3a1) {$a_m$};    &
  \ellipsis[10mm] &
  \node (A3as) {$a_n$};    \\
};

\topmeasure{\param{size}}{A1.north west}{A1.north east}
\topmeasure{\param{size}}{A2.north west}{A2.north east}
\topmeasure{$\leq$ \param{size}}{A3.north west}{A3.north east}

\toppointer{aj.north}{\param{step}}
\toppointer{am.north}{\param{step}}

\draw [iteration, shorten >=1mm, shorten <=1mm] (A1as) -- (A2a1);
\draw [iteration, shorten >=1mm, shorten <=1mm, middotted] (A2as) -- (A3a1);

\input{_footer.tex}
