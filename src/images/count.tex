\input{_header.tex}

\matrix (A) [collection] {
  \node (a1) {$a_1$}; &
  \node (a2) {$a_2$}; &
  \helem{between} &
  \node (ai-1) {$a_{i-1}$}; &
  \node (ai) {$a_i$}; &
  \helem{between} &
  \node (an) {$a_n$}; \\
};

\node [big arrow, below=\cellheight - .5\bigarrowwidth of A, anchor=west, rotate=-90];

\node (B) [below=2\cellheight of A] {$\true \, + \, \true \, + \, \ldots \, + \, \true = \displaystyle \sum\, \true$};

\foreach \i/\p/\d in {
  1/\true/.25,
  2/\false/1,
  i-1/\true/.25,
  i/\false/1,
  n/\true/.25}
{
  \path
    node (p\i) [predicate evaluation, above=\d of a\i] {$\param{p}(a_{\i})? \, \p$}
    (a\i) [predicate evaluation edge] -- (p\i);
}

\input{_footer.tex}
