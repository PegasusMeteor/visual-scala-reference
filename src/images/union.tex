\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \elem{a}{2} &
  \helem{between} &
  \elem{a}{i} &
  \helem{between} &
  \elem{a}{n} \\
};

\matrix (T) [collection, right=\cellwidth of A] {
  \node (t1) {$a_1$}; &
  \node (ti) {$a_i$}; &
  \node (tn) {$a_n$}; &
  \node (tn+1) {$a_{n+1}$}; \\
};

\rightparam{T.east}{\param{that}}

\matrix (B) [collection, below=2\cellheight of $ (A.south west)!.5!(T.south east) $] {
  \node (b1) {$a_1$}; &
  \node (b2) {$a_2$}; &
  \helem{between} &
  \node (bi) {$a_i$}; &
  \helem{between} &
  \node (bn) {$a_n$}; &
  \node (bt1) {$a_1$}; &
  \node (bti) {$a_i$}; &
  \node (btn) {$a_n$}; &
  \node (btn+1) {$a_{n+1}$}; \\
};

\bottombrace[a]{A.south west}{A.south east}
\topbrace[b]{b1.north west}{bn.north east}
\draw (a) [smooth arrow] to (b);

\bottombrace[a]{T.south west}{T.south east}
\topbrace[b]{bt1.north west}{btn+1.north east}
\draw (a) [smooth arrow] to (b);

\input{_footer.tex}
