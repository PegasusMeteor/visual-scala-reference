\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \helem{between} &
  \node (a2) {$a_{\param{\scriptsize{size}}}$}; &
  \node (a2) {$a_{\param{\scriptsize{size}} + 1}$}; &
  \helem{between} &
  \node (a2) {$a_{2\cdot\param{\scriptsize{size}}}$}; &
  \helem{between} &
  \node (a2) [xscale=.9] {$a_{n\cdot\param{\scriptsize{size}} + 1}$}; &
  \helem[.5\elementswidth]{between} &
  \node (a2) [xscale=.8] {$a_{n\cdot\param{\scriptsize{size}} + m}$}; \\
};

\node [big arrow, below=\cellheight - .5\bigarrowwidth of A, anchor=west, rotate=-90];

\matrix (C1) [collection, below=2\cellheight of A] {
  \node {$a_1$}; &
  \helem{between} &
  \node {$a_{\param{\scriptsize size}}$}; \\
};

\matrix (C2) [collection, below=\cellheight of C1] {
  \node (c2) {$a_{\param{\scriptsize size} + 1}$}; &
  \helem{between} &
  \node {$a_{2\cdot\param{\scriptsize{size}}}$}; \\
};

\matrix (C3) [collection, below=1.5\cellheight of C2, matrix anchor=c31.north west] at (c2.south west) {
  \node (c31) [xscale=.9] {$a_{n\cdot\param{\scriptsize{size}} + 1}$}; &
  \helem[.5\elementswidth]{between} &
  \node [xscale=.8] {$a_{n\cdot\param{\scriptsize{size}} + m}$}; \\
};

\measure{\param{size}}{C1.north west}{C1.north east}
\measure{\param{size}}{C2.north west}{C2.north east}
\measure{\param{$\leq$ size}}{C3.north west}{C3.north east}

\begin{scope}
  \tikzstyle{every path}=[bend right=45]
  \draw ($ (C1.west) - (1, 0) $) [iteration, with next label] -- (C1.west);
  \draw (C1.west) [iteration, with reverse next label] to (C2.west);
  \draw (C2.west) [iteration, middle dots] to (C3.west);
  \path (C2.west) [with reverse next label] to (C3.west);
\end{scope}

\input{_footer.tex}
