\input{_header.tex}

\matrix (A) [collection] {
  \node (a1)   {$a_1$};     &
  \node (a2)   {$a_2$};     &
  \helem{between}                &
  \node (an-1) {$a_{n-1}$}; &
  \node (an)   {$a_n$};     \\
};

\node [big arrow, below=\cellheight - .5\bigarrowwidth of A, anchor=west, rotate=-90];

\matrix (I1) [collection, below=2\cellheight of A] {
  \node (i11)   {$a_1$};     &
  \node (i12)   {$a_2$};     &
  \helem{between}                &
  \node (i1n-1) {$a_{n-1}$}; &
  \node (i1n)   {$a_n$};     \\
};

\matrix (I2) [collection, below=\cellheight of I1, matrix anchor=i21.north west] at (i11.south west) {
  \node (i21)   {$a_1$};     &
  \node (i22)   {$a_2$};     &
  \helem{between}                &
  \node (i2n-1) {$a_{n-1}$}; \\
};

\matrix (I3) [collection, below=1.5\cellheight of I2, matrix anchor=i31.north west] at (i21.south west) {
  \node (i31)   {$a_1$};     &
  \node (i32)   {$a_2$};     \\
};

\matrix (I4) [collection, below=\cellheight of I3, matrix anchor=i41.north west] at (i31.south west) {
  \node (i41)   {$a_1$};     \\
};

\node (I5) [empty collection, below=\cellheight of I4];

\begin{scope}
  \tikzstyle{every path}=[bend right=45]
  \draw ($ (I1.west) - (1, 0) $) [iteration, with next label] -- (I1.west);
  \draw (I1.west) [iteration, with reverse next label] to (I2.west);
  \draw (I2.west) [iteration, middle dots] to (I3.west);
  \path (I2.west) [with reverse next label] to (I3.west);
  \draw (I3.west) [iteration, with reverse next label] to (I4.west);
  \draw (I4.west) [iteration, with reverse next label] to (I5.west);
\end{scope}

\input{_footer.tex}
