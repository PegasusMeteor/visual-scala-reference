\input{_header.tex}

\matrix (A) [collection] {
  \helem{before}                 &
  \node (an-2) {$a_{n-2}$}; &
  \node (an-1) {$a_{n-1}$}; &
  \node (an)   {$a_n$};     \\
};

\matrix (T) [collection, above=2\cellheight of A.north east, matrix anchor=south east] {
  \node (tn-2) {$a_{n-2}$}; &
  \node (tn-1) {$a_{n-1}$}; &
  \node (tn)   {$a_n$};     \\
};

\topparam{T.north}{\param{that}};
 
\bottombrace[a]{tn-2.south west}{tn.south east}
\topbrace[b]{an-2.north west}{an.north east}
\draw (a) -- node [arrow label] {$=?$} (b);

\node [big arrow, right=\cellwidth of $ (A.east)!.5!(T.east) $];
\node [right=2\cellwidth of $ (A.east)!.5!(T.east) $] {$\true$};

\input{_footer.tex}
