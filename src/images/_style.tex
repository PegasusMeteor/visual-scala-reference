\newcommand{\true}{\textcolor{green}{\ding{51}}}
\newcommand{\false}{\textcolor{red}{\ding{55}}}

\tikzstyle{elem}=[
  font=\large
]

\tikzstyle{cell}=[
  draw,
  line width=0.4mm,
  minimum size=1.3cm,
  outer sep=0,
  fill=white,
  font=\large
]

\tikzstyle{collection}=[
  inner sep=0,
  column sep=-0.4mm,
  row sep=-0.4mm,
  nodes=cell
]

\tikzstyle{empty}=[
  draw=gray,
  minimum height=1.3cm,
  dashed,
  line width=0.2mm
]

\tikzstyle{map keys}=[
  collection
]

\tikzstyle{map values}=[
  collection,
  nodes={minimum size=1cm}
]

\tikzstyle{option}=[
  cell,
  line width=0.2mm,
  double,
  minimum size=0.9cm,
  label={right::Option},
]

\tikzstyle{map to}=[Square-Latex]

\tikzset{ellipsis/.style={
  loosely dash dot,
  line width=0.15mm,
  minimum width=#1,
  node contents=$\ldots$,
  fill=none
}}
\tikzset{vertical ellipsis/.style={
  ellipsis,
  node contents=$\vdots$,
  minimum height=#1,
}}
% \tikzset{ellipsis/.default=1.5cm}

\newcommand{\ellipsis}[1][15mm]{ \node [ellipsis=#1]; }
\newcommand{\vellipsis}[1][15mm]{ \node [vertical ellipsis=#1]; }

\tikzstyle{tuple comma}=[
  minimum width=2em,
  draw=none,
  fill=none,
  column sep=0.3mm,
  node contents={,}
]

\newcommand{\tuplecomma}{ \node [tuple comma]; }

\tikzstyle{arrow}=[draw=black, -latex]

\tikzstyle{arrow label}=[
  font=\small,
  fill=white!0
]

\tikzstyle{white border}=[
  preaction={draw=white, line cap=butt, -, line width=0.5em},
  shorten <= 1pt,
  shorten >= 1pt
]

\tikzstyle{start dots}=[
  decorate,
  decoration={
    border, angle=90, segment length=2pt, amplitude=\pgflinewidth,
    pre=curveto, pre length=0, post=curveto, post length=5mm
  }
]

\tikzstyle{middotted}=[
  decorate,
  decoration={
    border, angle=90, segment length=2pt, amplitude=\pgflinewidth,
    pre=curveto, pre length=5mm, post=curveto, post length=5mm
  }
]

\tikzstyle{iteration}=[
  arrow,
  bend right=45,
  densely dashed,
  draw=gray!75
]

\tikzstyle{predicate}=[
  font=\small
]

\tikzstyle{smooth}=[
  out=270,
  in=90
]

\tikzstyle{function result}=[
  pin edge={->, decorate, decoration={snake, amplitude=0.5mm}}
]

\tikzstyle{measure}=[
  arrows={Stealth[inset=0pt, angle'=30]-Stealth[inset=0pt, angle'=30]}
]

\newcommand{\bottommeasure}[4][5mm] {
  \begin{scope}[line width=0.1mm]
    \coordinate (x) at ([yshift=-#1] #3);
    \draw (x) [measure] -- node [label={[label distance=-1mm]above:#2}] {} (x -| #4);
    \draw (#3) -- ++(0, -#1) -- +(0, -1.25mm);
    \draw (#4) -- ++(0, -#1) -- +(0, -1.25mm);
  \end{scope}
}

\newcommand{\topmeasure}[4][5mm] {
  \begin{scope}[line width=0.1mm]
    \coordinate (x) at ([yshift=#1] #3);
    \draw (x) [measure] -- node [label={[label distance=-1mm]above:#2}] {} (x -| #4);
    \draw (#3) -- ++(0, #1) -- +(0, 1.25mm);
    \draw (#4) -- ++(0, #1) -- +(0, 1.25mm);
  \end{scope}
}

\tikzstyle{bottombrace}=[
  decorate, decoration={brace, amplitude=1mm, raise=1mm, mirror}
]
\tikzstyle{topbrace}=[
  decorate, decoration={brace, amplitude=1mm, raise=1mm}
]
\tikzstyle{from brace}=[shorten <=2mm]
\tikzstyle{to brace}=[shorten >=2mm]

\newcommand{\bracetobrace}[4] {
  \coordinate (a) at (#1);
  \coordinate (b) at (#2);
  \coordinate (c) at (#3);
  \coordinate (d) at (#4);
  \draw [bottombrace] (a) -- coordinate (e) (b);
  \draw [topbrace] (c) -- coordinate (f) (d);
  \draw [from brace, to brace, smooth, arrow] (e) to (f);
}

\newcommand{\toppointer}[2] {
  \draw ([yshift=1mm] #1) [Latex-] -- ([yshift=9mm] #1) node [anchor=south] {#2};
}

\newcommand{\topinject}[2] {
  \draw ([yshift=-4mm] #1) [Latex-, white border, draw=black] -- ([yshift=6mm] #1) node [anchor=south] {#2};
}
