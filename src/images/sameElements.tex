\input{_header.tex}

\matrix (A) [collection, name prefix=a] {
  \node (1)   {$a_1$}; &
  \node (2)   {$a_2$}; &
  \node (3)   {$a_3$}; &
  \node (4)   {$a_4$}; &
  \node (5)   {$a_5$}; &
  \ellipsis            &
  \node (n)   {$a_n$}; \\
};

\matrix (B) [collection, below=2cm of A] {
  \node (b1)   {$a_1$}; &
  \node (b2)   {$a_2$}; &
  \node (b3)   {$a_3$}; &
  \node (b4)   {$a_5$}; &
  \node (b5)   {$a_4$}; &
  \ellipsis             &
  \node (bn)   {$a_n$}; \\
};

\node [draw, ellipse callout, callout absolute pointer={([xshift=-1mm] B.west)}] at ([xshift=-1cm] B.west) {that};

\begin{scope}
  \tikzstyle{every path}=[Latex-Latex]
  \tikzstyle{every node}=[arrow label]
  \draw (a1) -- node (t1) {=? \true} (b1);
  \draw (a2) -- node (t2) {=? \true} (b2);
  \draw (a3) -- node (t3) {=? \true} (b3);
  \draw (a4) -- node (t4) {=? \false} (b4);
\end{scope}

\node (B) [elem, right=6cm of t3] {\false};
\draw [arrow] (t4) -- (B);

\draw (t1.north west) [rounded corners=0.5em] rectangle (t4.south east);

\input{_footer.tex}
