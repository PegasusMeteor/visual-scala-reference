\input{_header.tex}

\matrix (A) [collection, name prefix=a] {
    \node (1) {$a_1$}; &
    \node (2) {$a_2$}; &
    \ellipsis          &
    \node (i) {$a_i$}; &
    \ellipsis          &
    \node (n) {$a_n$}; \\
};

\node (z) [elem, left=5mm of a1] {z};
\node (f1) [below=15mm of a2] {$\texttt{op}(\textrm{z}, a_2)$};
\node (f2) [below=25mm of an] {$\texttt{op}(z_1, a_n)$};
\node (f3) [below=35mm of a1] {$\texttt{op}(z_2, a_1)$};
\node (fn) [below=45mm of ai] {$\texttt{op}(z_{n-1}, a_i)$};

\node (B) [elem, below=10mm of fn] {$b$};

\begin{scope}
  \tikzstyle{every path}=[arrow]
  \draw [white border, out=270, in=90] (z.south) to (f1.100);
  \draw [white border, out=270, in=90] (a2.south) to (f1.45);

  \draw [white border, out=0, in=90] (f1.east) to (f2.100);
  \draw [white border, out=270, in=90] (an.south) to (f2.40);

  \draw [white border, out=180, in=90] (f2.west) to (f3.100);
  \draw [white border, out=270, in=90] (a1.south) to (f3.40);

  \draw [white border, out=0, in=90] (f3.east) [middotted] to (fn.100);
  \draw [white border, out=270, in=90] (ai.south) to (fn.25);

  \draw (fn.south) -- (B.north);
\end{scope}

\input{_footer.tex}
