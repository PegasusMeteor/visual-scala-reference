\input{_header.tex}

\matrix (A) [collection] {
  \elem{a}{1} &
  \elem{a}{2} &
  \helem{between} &
  \elem{a}{n-1} &
  \elem{a}{n} \\
};

\node [big arrow, below=\cellheight - .5\bigarrowwidth of A, anchor=west, rotate=-90];

\matrix (I1) [collection, below=2\cellheight of A] {
  \node (i11) {$a_1$}; &
  \node (i12) {$a_2$}; &
  \helem{between} &
  \node (i1n-1) {$a_{n-1}$}; &
  \node (i1n) {$a_n$}; \\
};

\matrix (I2) [collection, below=\cellheight of I1, matrix anchor=i2n.north east] at (i1n.south east) {
  \node (i22) {$a_2$}; &
  \helem{between} &
  \node (i2n-1) {$a_{n-1}$}; &
  \node (i2n) {$a_n$}; \\
};

\matrix (I3) [collection, below=1.5\cellheight of I2, matrix anchor=i3n.north east] at (i2n.south east) {
  \node (i3n-1) {$a_{n-1}$}; &
  \node (i3n) {$a_n$}; \\
};

\matrix (I4) [collection, below=\cellheight of I3, matrix anchor=i4n.north east] at (i3n.south east) {
  \node (i4n) {$a_n$}; \\
};

\node (I5) [empty collection, below=\cellheight of I4];

\begin{scope}
  \tikzstyle{every path}=[bend right=60]
  \draw ($ (I1.west) - (1, 0) $) [iteration, with next label] -- (I1.west);
  \draw (I1.west) [iteration, with next label] to (I2.west);
  \draw (I2.west) [iteration, middle dots] to (I3.west);
  \path (I2.west) [with next label] to (I3.west);
  \draw (I3.west) [iteration, with next label] to (I4.west);
  \draw (I4.west) [iteration, with next label] to (I5.west);
\end{scope}

\input{_footer.tex}
