\input{_header.tex}

\matrix (A) [collection] {
  \node (a1) {$a_1$}; &
  \node (a2) {$a_2$}; &
  \ellipsis           &
  \node (am) {$a_m$}; \\
};

\node [draw, ellipse callout, callout absolute pointer={([yshift=1mm] A.north)}] at ([yshift=1cm] A.north) {$\texttt{xss(0)}$};

\node (E) [right=5mm of A, empty] {};

\node [draw, ellipse callout, callout absolute pointer={([yshift=1mm] E.north)}] at ([yshift=1cm] E.north) {$\texttt{xss(1)}$};

\matrix (B) [collection, right=5mm of E] {
  \node (b1) {$b_1$};     &
  \ellipsis               &
  \node (bn) {$b_n$}; \\
};

\node [draw, ellipse callout, callout absolute pointer={([yshift=1mm] B.north)}] at ([yshift=1cm] B.north) {$\texttt{xss(2)}$};

\node (EL) [right=5mm of B] {$\cdots$}; 

\matrix (C) [collection, right=5mm of EL] {
  \node (c1) {$c_1$}; &
  \ellipsis           &
  \node (co) {$c_o$}; \\
};

\node [draw, ellipse callout, callout absolute pointer={([yshift=1mm] C.north)}] at ([yshift=1cm] C.north) {$\texttt{xss(n-1)}$};

\draw (A.north west) [draw=none] -- coordinate (x) (C.south east);

\matrix (Z) [collection, below=3cm of x] {
  \node (za1) {$a_1$}; &
  \node (za2) {$a_2$}; &
  \ellipsis            &
  \node (zam) {$a_m$}; &
  \node (zb1) {$b_1$}; &
  \ellipsis            &
  \node (zbn) {$b_n$}; &
  \ellipsis            &
  \node (zc1) {$c_1$}; &
  \ellipsis            &
  \node (zco) {$c_o$}; \\
};

\foreach \i in {a1,a2,am,b1,bn,c1,co} {
  \draw ([yshift=4mm] \i.south) [smooth, arrow, white border] to (z\i);
}

% \bracetobrace{A.south west}{A.south east}{z1.north west}{zi.north east}
% \bracetobrace{C.south west}{C.south east}{[xshift=1pt] zj.north west}{[xshift=-1pt] zj+m.north east}
% \draw (B) [arrow, smooth, shorten <=2mm, shorten >=2mm] to (zi.north east);
% \bracetobrace{E.south west}{E.south east}{[xshift=1pt] zk.north west}{zk+n.north east}


\input{_footer.tex}
