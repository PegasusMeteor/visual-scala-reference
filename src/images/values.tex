\input{_header.tex}

\matrix (K) [map] {
  \elem{k}{1} \\
  \elem{k}{2} \\
  \velem{between} \\
  \elem{k}{i} \\
  \velem{between} \\
  \elem{k}{n} \\
};

\foreach \i in {1, 2, i, n} {
  \node (v\i) [right=.5\cellwidth of k\i] {$v_\i$};
  \draw (k\i) [maps to] -- (v\i);
  \node (vf\i) [right=2\cellwidth of v\i] {$v_\i$};
}

\node [big arrow, right=1.5\cellheight - .5\bigarrowwidth of K];

\begin{scope}
  \tikzstyle{every path}=[bend right=45]
  \draw ($ (vf1.west) - (1, 0) $) [iteration, with next label] -- (vf1.west);
  \draw (vf1.west) [iteration, with reverse next label] to (vf2.west);
  \draw (vf2.west) [iteration, middle dots] to (vfi.west);
  \path (vf2.west) [with reverse next label] to (vfi.west);
  \draw (vfi.west) [iteration, middle dots] to (vfn.west);
  \path (vfi.west) [with reverse next label] to (vfn.west);
\end{scope}

\input{_footer.tex}
