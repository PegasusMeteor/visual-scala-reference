---
---

\matrix (A) [collection] {
    \node [elements before]; &
    \node {$a_i$}; &
    \node (ai+1) {$a_{i + 1}$}; &
    \node [elements between]; &
    \node {$a_{j - 1}$}; &
    \node (aj) {$a_j$}; &
    \node {$a_{j + 1}$}; &
    \node [elements after]; &
\\ };

\matrix (B) [collection, below=3 of A] {
    \node (bi+1) {$a_{i + 1}$}; &
    \node [elements between]; &
    \node {$a_{j - 1}$}; &
    \node (bj) {$a_j$}; &
\\ };

\braceflow[-.2]{(ai+1.south west)}{(aj.south east)}
\coordinate (x) at (lastbrace);
\braceflow[.2]{(bi+1.north west)}{(bj.north east)}
\draw [flow ->] (x) -- (lastbrace);
