\newlength{\defaultpenwidth}
\setlength{\defaultpenwidth}{0.04\masterunit}

\definecolor{blueprint}{RGB}{11, 97, 171}
\definecolor{defaultpencolor}{RGB}{255, 255, 255}

\tikzset{every path/.style={
    draw=defaultpencolor,
    line width=\defaultpenwidth,
}}

\tikzset{every node/.style={
    inner sep=0pt,
    outer sep=0pt,
    node distance=0,
    text=defaultpencolor,
}}

\tikzset{collection element/.style={
    draw,
    font=\large,
    minimum height=\masterunit,
    minimum width=\masterunit,
}}

\tikzset{collection/.style={
    column sep=-\defaultpenwidth,
    nodes={
        collection element,
    },
    outer sep=-0.5\defaultpenwidth,
    row sep=-0.5\defaultpenwidth,
}}

\tikzset{flow/.style={
    -latex,
    line width=0.5\defaultpenwidth,
    fill=defaultpencolor,
}}

\tikzset{elements between/.style={
    decorate,
    decoration={
        show path construction,
        lineto code={
            \draw
                (\tikzinputsegmentfirst) -- ($ (\tikzinputsegmentfirst)!.10!(\tikzinputsegmentlast) $)
                ($ (\tikzinputsegmentfirst)!.90!(\tikzinputsegmentlast) $) -- (\tikzinputsegmentlast);
            \draw [dash pattern=on .1\masterunit off .1\masterunit]
                ($ (\tikzinputsegmentfirst)!.10!(\tikzinputsegmentlast) $) -- ($ (\tikzinputsegmentfirst)!.90!(\tikzinputsegmentlast) $);
        }
    }
}}

\newcommand{\elementsbetween}{%
    \node (_eb) [draw=none, minimum width=1.5\masterunit] {};
    \draw [elements between]
        (_eb.north west) to (_eb.north east)
        (_eb.south west) to (_eb.south east);
}

\tikzset{function/.style={
    shape=function,
    inner xsep=0.1\masterunit,
    inner ysep=0.2\masterunit,
    line width=0.66\defaultpenwidth,
}}

\newcommand{\blueprint}{
    \begin{scope}[on background layer]
        \coordinate (_a) at ($ (current bounding box.south west) + (-1, -1) $);
        \coordinate (_b) at ($ (current bounding box.north east) + (1, 1) $);
        \fill [blueprint] ($ (_a) + (-0.5, -0.5) $) rectangle ($ (_b) + (0.5, 0.5) $);
        \draw [blueprint!95!white, very thin, step=0.1] (_a) grid (_b);
        \draw [blueprint!90!white, thin, step=0.5] (_a) grid (_b);
        \draw [blueprint!80!white, semithick, step=1] (_a) grid (_b);
        \draw [blueprint!50!white, thick] (_a) rectangle (_b);
    \end{scope}
}
