\newlength{\defaultpenwidth}
\setlength{\defaultpenwidth}{0.04\masterunit}

\definecolor{defaultpencolor}{RGB}{43, 43, 43}

\tikzset{every path/.style={
    draw=defaultpencolor,
    line width=\defaultpenwidth,
}}

\tikzset{every node/.style={
    inner sep=0pt,
    outer sep=0pt,
    node distance=0,
    text=defaultpencolor,
}}

\tikzset{element/.style={
    font=\large,
    inner sep=0.1\masterunit,
}}

\tikzset{collection element/.style={
    draw,
    element,
    inner sep=0,
    minimum height=\masterunit,
    minimum width=\masterunit,
}}

\tikzset{collection/.style={
    column sep=-\defaultpenwidth,
    nodes={
        collection element,
    },
    outer sep=-0.5\defaultpenwidth,
    row sep=-0.5\defaultpenwidth,
}}

\tikzset{empty collection/.style={
    decorate,
    decoration={
        amplitude=0.025\masterunit,
        angle=45,
        border,
        segment length=0.05\masterunit,
    },
    draw,
    line width=0.01\masterunit,
    minimum height=\masterunit,
    minimum width=0.3\masterunit,
    node contents={}
}}

\tikzset{flow/.style={
    -{Triangle[fill=defaultpencolor, angle'=30]},
    line width=0.75\defaultpenwidth,
}}

\tikzset{subflow/.style={
    flow,
    line width=0.5\defaultpenwidth,
}}

\tikzset{solid dashed solid/.style={
    decorate,
    decoration={
        show path construction,
        lineto code={
            \draw
                (\tikzinputsegmentfirst) -- ($ (\tikzinputsegmentfirst)!.10!(\tikzinputsegmentlast) $)
                ($ (\tikzinputsegmentfirst)!.90!(\tikzinputsegmentlast) $) -- (\tikzinputsegmentlast);
            \draw [tips=false, dash pattern=on .1\masterunit off .1\masterunit]
                ($ (\tikzinputsegmentfirst)!.10!(\tikzinputsegmentlast) $) -- ($ (\tikzinputsegmentfirst)!.90!(\tikzinputsegmentlast) $);
        }
    },
}}

\newcommand{\elementsbetween}{%
    \node (_eb) [draw=none, minimum width=1.5\masterunit] {};
    \draw [solid dashed solid]
        (_eb.north west) to (_eb.north east)
        (_eb.south west) to (_eb.south east);
}

\tikzset{function/.style={
    shape=function,
    inner xsep=.15\masterunit,
    inner ysep=.2\masterunit,
    line width=.5\defaultpenwidth,
}}

\newcommand{\drawbg}{
     \begin{scope}[on background layer]
         \coordinate (_a) at ($ (current bounding box.south west) + (-.5, -.5) $);
         \coordinate (_b) at ($ (current bounding box.north east) + (.5, .5) $);
         \fill [white] (_a) rectangle (_b);
     \end{scope}
}