---
---

\matrix (A) [collection, nodes={font=\footnotesize}] {
    \node (a1) [align=center] {$\texttt{start}$}; &
    \node (a2) [align=center] {$\texttt{start}$\\$+$\\$\texttt{step}$}; &
    \node [elements between]; &
    \node (ai) [align=center] {$\texttt{start}$\\$+$\\$i\cdot \texttt{step}$}; &
    \node [elements between]; &
    \node (an) [align=center] {$\texttt{start}$\\$+$\\$n\cdot \texttt{step}$}; &
\\ };

\draw [collection element line width, dotted] (an.north east) -- ++(1, 0) -- ++(0, -1) -- ++(-1, 0);
\draw [dashed] ($ (an.south east) + (.25, -.5) $) -- ($ (an.north east) + (.25, .5) $)
    node [element, above] {\texttt{end}};

\draw [<- flow] (a1.north) -- +(0, .5) node [element, above] {\texttt{start}};
\draw [flow ->, bend left=45] (a1.north) to node [font=\small, sloped, above] {$+\texttt{step}$} (a2.north);
\draw [flow ->, dashed] (a2.north) arc [start angle=180, end angle=120, y radius=.5, x radius=1];
\draw [<- flow, dashed] (ai.north) arc [start angle=0, end angle=60, y radius=.5, x radius=1];
\draw [flow ->, dashed] (ai.north) arc [start angle=180, end angle=120, y radius=.5, x radius=1];
\draw [<- flow, dashed] (an.north) arc [start angle=0, end angle=60, y radius=.5, x radius=1];
