---
---

\matrix (A) [collection] {
    \node {$a_1$}; &
    \node {$a_2$}; &
    \elementsbetween &
    \node {$a_{n - 1}$}; &
    \node {$a_n$}; &
\\ };

\matrix (I1) [collection, below=2 of A] {
    \node {$a_1$}; &
    \node {$a_2$}; &
    \elementsbetween &
    \node {$a_{n - 1}$}; &
    \node {$a_n$}; &
\\ };

\matrix (I2) [collection, below=.5 of I1.south east, anchor=north east] {
    \node {$a_1$}; &
    \node {$a_2$}; &
    \elementsbetween &
    \node {$a_{n - 1}$}; &
\\ };

\matrix (In1) [collection, below=1 of I2.south east, anchor=north east] {
    \node {$a_1$}; &
    \node {$a_2$}; &
\\ };

\matrix (In) [collection, below=.5 of In1.south east, anchor=north east] {
    \node {$a_1$}; &
\\ };

\node (If) [empty collection, below=.5 of In.south east, anchor=north east] {};

\tikzset{next label/.style={
    sloped,
    node contents={\texttt{next}}
}}

\draw [flow ->] ($ (I1.west) + (-1, 0) $) -- node [next label, above=0.1] {} (I1);
\draw [flow ->] (I1.west) .. controls +(-.55, -.55) and +(-1.1, 0) .. node [next label, below=0.1] {} (I2.west);
\draw [flow ->, dashed] (I2.west) .. controls +(-1.1, -.55) and +(-2.2, 0) .. node [next label, below=0.1] {} (In1.west);
\draw [flow ->] (In1.west) .. controls +(-.55, -.55) and +(-1.5, 0) .. node [next label, below=0.1] {} (In.west);
\draw [flow ->] (In.west) .. controls +(-.55, -.55) and +(-1.1, 0) .. node [next label, below=0.1] {} (If.west);

\coordinate (x) at ($ (A)!.5!(I1) $);
\node at (x) [big arrow, rotate=-90] {};
