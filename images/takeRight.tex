---
---

\matrix (A) [collection] {
    \elementsbefore &
    \node (an-i) {$a_{n-i}$}; &
    \node (an-i+1) {$a_{n-i+1}$}; &
    \elementsbetween &
    \node (an-1) {$a_{n-1}$}; &
    \node (an) {$a_n$}; \\
};

\matrix (B) [collection, below=3 of A.south east, anchor=north east] {
    \node {$a_{n-i+1}$}; &
    \elementsbetween &
    \node {$a_{n-1}$}; &
    \node {$a_n$}; \\
};

\topmeasure{$i$}{an-i+1.north west}{an.north east}

\begin{scope}[every path/.style={flow width}]
\inversebrace{an-i+1.south west}{an.south east}
\coordinate (s) at (bracepoint);
\normalbrace{B.north west}{B.north east}
\end{scope}
\draw [flow] (s) -- (bracepoint);
